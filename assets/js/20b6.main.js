memoGame=function(a){var b=this;b.dom={core:null,images:null,board:null},b.data={boardWidth:4,boardHeight:2,imageCount:4,imageMaxCount:29,selected:0,firstClick:!1,firstNumber:null,secondNumber:null,firstIndexX:null,firstIndexY:null,secondIndexX:null,secondIndexY:null,tab:[],imgTab:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],level:0,size:0},b.init=function(){b.dom.board=jQuery("#"+a),b.data.level++,b.dom.images=jQuery("#imagesCache"),b.checkLevel();for(var c=[],d=1;d<=b.data.imageCount;d++)c.push(d),c.push(d);for(e=b.data.imageCount;--e;)b.randomizeArray(c);for(var e=29-b.data.imageCount;--e;){var f=Math.floor(Math.random()*b.data.imgTab.length);b.data.imgTab.splice(f,1)}for(var g=0,d=0;d<b.data.boardHeight;d++){b.data.tab[d]=[];for(var h=0;h<b.data.boardWidth;h++)b.data.tab[d][h]=c[g++],b.dom.board.append("<li id='board_"+d+"_"+h+"' class='memo_"+g%3+"'/>"),b.data.size=$("#board_0_0").width(),$("#board_"+d+"_"+h).height(b.data.size)}var i=b.dom.images.find("li").eq(0).find("img").clone();b.dom.board.append(i),b.dom.board.find("li").on("touchstart click",function(){b.checkClick($(this))})},window.onresize=function(){location.reload()},b.checkLevel=function(){b.data.imgTab=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],b.dom.board.find("li").remove(),b.data.selected=0,b.data.level>3&&(b.data.boardWidth=4,b.data.boardHeight=3,b.data.imageCount=6)},b.checkClick=function(a){var c=a.attr("id").split("_"),d=b.data.tab[c[1]][c[2]],e=b.dom.images.find("li").eq(b.data.imgTab[d]).find("img").clone();b.dom.board.find("#"+a.attr("id")).html(e),b.data.firstClick?(b.data.secondNumber=b.data.tab[c[1]][c[2]],b.data.secondIndexX=c[1],b.data.secondIndexY=c[2],(b.data.firstIndexX!=b.data.secondIndexX||b.data.firstIndexY!=b.data.secondIndexY)&&(b.data.firstNumber==b.data.secondNumber?(b.data.selected++,setTimeout(function(){b.dom.board.find("#board_"+b.data.firstIndexX+"_"+b.data.firstIndexY).unbind("click").css("cursor","default").addClass("blocked"),b.dom.board.find("#board_"+b.data.secondIndexX+"_"+b.data.secondIndexY).unbind("click").css("cursor","default").addClass("blocked")},50),b.data.selected==b.data.imageCount&&($("div.gornik").css("background-position-x","0%").css("bottom",0),setTimeout(function(){$("div.gornik").css("background-position-x","100%"),setTimeout(function(){$("div.gornik").css("background-position-x","0%").css("bottom",-400),b.init()},500)},2e3))):(b.dom.board.find("li").unbind("click"),setTimeout(function(){b.hide()},1e3)),b.data.firstClick=!1)):(b.data.firstClick=!0,b.data.firstNumber=d,b.data.firstIndexX=c[1],b.data.firstIndexY=c[2])},b.randomizeArray=function(a){var b=a.length;if(0==b)return!1;for(;--b;){var c=Math.floor(Math.random()*(b+1)),d=a[b],e=a[c];a[b]=e,a[c]=d}},b.hide=function(){b.dom.board.find("li").not(".blocked").html(""),b.dom.board.find("li").not(".blocked").bind("click",function(){b.checkClick($(this))})}},slowaGame=function(){var a=this;a.dom={core:null,images:null,names:null,board:null},a.data={level:0,size:0},a.init=function(){a.dom.images=jQuery("#slownikGame li"),a.dom.board=jQuery("#slownikGameBord li"),a.randomizeArray(a.dom.images);for(var b=0;b<a.dom.images.length;b++)a.dom.images.parent().append(a.dom.images[b]);$(a.dom.board).find("button").on("touchstart click",function(){var b=$(this).parent();b.hasClass("no-off")?(b.addClass("no").removeClass("no-off"),setTimeout(function(){b.addClass("no-off").removeClass("no")},1e3)):b.hasClass("yes-off")&&(b.addClass("yes").removeClass("yes-off"),setTimeout(function(){b.addClass("yes-off").removeClass("yes"),$(a.dom.board).addClass("off"),a.nextActive()},2e3))}),a.setNames(a.dom.names)},window.onresize=function(){location.reload()},a.nextActive=function(){$(a.dom.images[0]).addClass("hide"),setTimeout(function(){$(a.dom.images).parent().append(a.dom.images[0]),a.dom.images=jQuery("#slownikGame li"),a.setNames(a.dom.names)},2e3)},a.setNames=function(){a.dom.names=[$(a.dom.images[0]).find("img").attr("name"),$(a.dom.images[3]).find("img").attr("name"),$(a.dom.images[6]).find("img").attr("name"),$(a.dom.images[9]).find("img").attr("name")],trueName=a.dom.names[0],a.randomizeArray(a.dom.names);for(var b=0;b<a.dom.board.length;b++)name=a.dom.names[b],trueName==name?jQuery(a.dom.board[b]).attr("class","yes-off"):jQuery(a.dom.board[b]).attr("class","no-off"),jQuery(a.dom.board[b]).find("button").text(name);setTimeout(function(){a.dom.board.removeClass("off")},1e3)},a.randomizeArray=function(a){for(var b,c,d=a.length;d>0;)c=Math.floor(Math.random()*d),d--,b=a[d],a[d]=a[c],a[c]=b;return a},a.hide=function(){}},$(function(){function a(){1==c.length&&(1==$(".current_page a").length&&c.width($(".current_page a").width()+4).css("left",$(".current_page a").position().left-2).css("top",$(".current_page a").position().top+26),c.data("origTop",Math.floor(c.position().top)).data("origLeft",Math.floor(c.position().left)).data("origWidth",c.width()))}function b(){$el=$("li.active").find("a"),$el.position()?(leftPos=Math.floor($el.position().left-2),topPos=Math.floor($el.position().top+26),newWidth=$el.width()+4):(leftPos=-2,topPos=28,newWidth=0),c.stop().animate({left:leftPos,top:topPos,width:newWidth})}var c=$("#menu #magic-line");a(),window.onresize=function(){a()},$("ul.tabs li").on("touchstart click",function(){$("ul.tabs li").removeClass("selected"),$("ul.content li").removeClass("selected"),num=$("ul.tabs li").index(this),$("ul.tabs li").eq(num).addClass("selected"),$("ul.content li").eq(num).addClass("selected")}),$("section.games").length>0&&($("#memoGame").length>0&&new memoGame("memoGame").init(),$("#slownikGameBord").length>0&&new slowaGame("memoGame").init()),$("#menu li").hover(function(){$el=$(this).find("a"),$el.position()?(leftPos=Math.floor($el.position().left-2),topPos=Math.floor($el.position().top+26),newWidth=$el.width()+4):(leftPos=-2,topPos=28,newWidth=0),c.stop().animate({left:leftPos,top:topPos,width:newWidth})},function(){c.stop().animate({top:c.data("origTop"),left:c.data("origLeft"),width:c.data("origWidth")})});var d,e=$("header"),f=e.outerHeight()+50,g=e.find("a[href*='#']"),h=g.map(function(){var a=$(this).attr("href").slice(1),b=$(a);return b.length?b:void 0});g.click(function(a){var b=$(this).attr("href").slice(1),c="/#"===b?0:$(b).offset().top-f+1;$("html, body").stop().animate({scrollTop:c},300),a.preventDefault()}),$(window).scroll(function(){if(0==$(".current_page").length){var a=$(this).scrollTop()+f,c=h.map(function(){return $(this).offset().top<a?this:void 0});c=c[c.length-1];var e=c&&c.length?c[0].id:"";d!==e&&(d=e,g.parent().removeClass("active").end().filter("[href*='/#"+e+"']").parent().addClass("active"),b())}})});